(this["webpackJsonpreact-redux-tutorial"]=this["webpackJsonpreact-redux-tutorial"]||[]).push([[0],{41:function(e,t,n){e.exports=n(99)},99:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(11),i=n.n(r),s=n(14),c=n(34),l=n(6),u=(n(50),n(12)),h=n(13),p=n(9),d=n(16),m=n(15),g=n(101),v=n(102),f=n(103),y=n(35),E=n.n(y),b=n(36),w=n.n(b),O=function(e){return{type:"UPDATE_SEARCH_KEY",key:e}},S=function(e){return{type:"Filter_MOVIES",key:e}};var j=function(e){return function(t){new Promise((function(e,t){e()})).then((function(){t(S(e))}))}},k=function(e,t){return function(n){w.a.get("CONTENTLISTINGPAGE-PAGE".concat(e,".json")).then((function(e){n(t?function(e){return{type:"GET_MOVIES_X",movies:e}}(e.data.page["content-items"].content):{type:"GET_MOVIES",movies:e.data.page["content-items"].content})}))}},x=n(37),K=n(1),M=n(39);function C(){var e=Object(x.a)(["\n    display: block;\n    margin: 0 auto;\n    border-color: red;\n"]);return C=function(){return e},e}var _=Object(K.css)(C()),I=function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).state={loading:!0},a}return Object(h.a)(n,[{key:"render",value:function(){return o.a.createElement("div",{className:"sweet-loading"},o.a.createElement(M.FadeLoader,{css:_,sizeUnit:"px",height:15,radius:2,width:5,margin:"2px",color:"#36D7B7",loading:this.state.loading}))}}]),n}(o.a.Component),T=function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).handleScroll=function(e){window.innerHeight+window.scrollY>=document.body.offsetHeight-400&&a.state.page<3&&(a.setState({page:a.state.page+1}),a.fetchMovies(a.state.page))},a.state={posts:[],searchKey:"",page:1,init:!0,isVisible:!1,isMobile:!1},a.handleSearch=a.handleSearch.bind(Object(p.a)(a)),a.showHead=a.showHead.bind(Object(p.a)(a)),a.onKeyDown=a.onKeyDown.bind(Object(p.a)(a)),a}return Object(h.a)(n,[{key:"componentDidMount",value:function(){this.props.actions.getMovies(this.state.page,!1),window.addEventListener("scroll",this.handleScroll)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.handleScroll)}},{key:"genImage",value:function(e,t,n){return o.a.createElement(E.a,{height:158},o.a.createElement("div",{style:{alignItems:"center",overflow:"hidden"}},o.a.createElement("img",{style:{width:"100%"},src:"./assets/".concat(e)||!1,alt:"./assets/placeholder_for_missing_posters.png"})))}},{key:"showPosts",value:function(){var e=this;return this.props.movies.length>1?this.props.movies.map((function(t,n){console.log("check---\x3e",t);var a=t["poster-image"];return o.a.createElement(g.a,{xs:4,key:n,style:{float:"left",marginBottom:"-15px",marginRight:"0px",marginLeft:"0px"}},o.a.createElement("div",{style:{display:"inline-block"}},o.a.createElement("div",{style:{paddingBottom:"-80px"}},e.genImage(a,n,e.props.movies.length)),o.a.createElement("p",{style:{color:"#ffffff",fontSize:"3vw"}},t.name)))})):o.a.createElement(I,null)}},{key:"handleSearch",value:function(e){e.preventDefault(),this.setState({searchKey:e.target.value}),e.target.value.trim().length>1&&(this.props.actions.updateSearchKey(this.state.searchKey),this.props.actions.asyncFilterMovies(this.props.search.searchKey))}},{key:"onKeyDown",value:function(e){8===e.keyCode&&(this.setState({page:1}),this.setState({searchKey:""}),this.props.actions.getMovies(1,!0),this.props.actions.updateSearchKey(""))}},{key:"showHead",value:function(){var e=this;return o.a.createElement("div",{style:{position:"sticky",top:"0"}},o.a.createElement("div",{style:{marginTop:"30px",marginBottom:"10px",maxHeight:"190px"}},o.a.createElement("span",null,o.a.createElement("input",{type:"text",placeholder:"Enter Name To Search",onChange:function(t){return e.handleSearch(t)},onKeyDown:this.onKeyDown,value:this.state.searchKey,style:{border:"1px solid #2c2c2d",display:"inline",backgroundColor:"#C0C0C0",color:"#212F3D",fontSize:"4vw",marginLeft:"20px",outline:"none"}})),o.a.createElement("button",{style:{display:"inline",float:"right",paddingTop:"0px",paddingRight:"20px",position:"absolute",margin:"-6px",right:" 38px",bottom:"4px"},onClick:function(t){return e.handleSearch(t)}},"Search")))}},{key:"fetchMovies",value:function(e){this.props.actions.getMovies(this.state.page,!1)}},{key:"render",value:function(){var e=this.showPosts(),t=this.showHead();return o.a.createElement("div",{className:"",style:{backgroundColor:"#000000"}},o.a.createElement("div",null,t),e?o.a.createElement(v.a,null,o.a.createElement("div",null,o.a.createElement(f.a,null,e))):o.a.createElement(I,null))}}]),n}(a.Component),D=Object(s.b)((function(e){return{movies:e.movies,search:e.search}}),(function(e){return{actions:Object(l.b)({getMovies:k,updateSearchKey:O,filterMovies:S,asyncFilterMovies:j},e)}}))(T),H=n(21),L=n(10),G=[],P=Object(l.c)({movies:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_MOVIES":return[].concat(Object(L.a)(e),Object(L.a)(t.movies));case"GET_MOVIES_X":return Object(L.a)(t.movies);case"Filter_MOVIES":if(t.key.trim().length<1)return Object(L.a)(e);var n=RegExp("".concat(t.key.toLowerCase())),a=e.filter((function(e){return n.test(e.name.toLowerCase())}));return Object(L.a)(a);default:return e}},search:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{searchKey:""},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_SEARCH_KEY":return Object(H.a)(Object(H.a)({},e),{searchKey:t.key});default:return e}}}),V=Object(l.d)(P,Object(l.a)(c.a));console.log(V.getState()),i.a.render(o.a.createElement(s.a,{store:V},o.a.createElement(D,null)),document.getElementById("root"))}},[[41,1,2]]]);
//# sourceMappingURL=main.49a616c7.chunk.js.map