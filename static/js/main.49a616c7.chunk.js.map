{"version":3,"sources":["js/actions/index.js","js/Spinner.jsx","js/components/home.js","js/reducers/index.js","index.js"],"names":["updateSearchKey","key","type","filterMovies","asyncFilterMovies","dispatch","Promise","resolve","reject","then","getMovies","page","flush","axios","get","res","movies","getMoviesX","data","content","override","css","Spinner","props","state","loading","className","sizeUnit","height","radius","width","margin","color","this","React","Component","App","handleScroll","event","window","innerHeight","scrollY","document","body","offsetHeight","setState","fetchMovies","posts","searchKey","init","isVisible","isMobile","handleSearch","bind","showHead","onKeyDown","actions","addEventListener","removeEventListener","image","index","length","style","alignItems","overflow","src","alt","map","post","console","log","Col","xs","float","marginBottom","marginRight","marginLeft","display","paddingBottom","genImage","fontSize","name","e","preventDefault","target","value","trim","search","keyCode","position","top","marginTop","maxHeight","placeholder","onChange","border","backgroundColor","outline","paddingTop","paddingRight","right","bottom","onClick","renderMovies","showPosts","renderHead","Container","Row","connect","bindActionCreators","initalState","rootReducer","combineReducers","action","regex","RegExp","toLowerCase","newState","filter","movie","test","store","createStore","reducers","applyMiddleware","thunk","getState","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.49a616c7.chunk.js","sourcesContent":["import { ADD_ARTICLE } from '../constants/action-types';\r\n\r\nimport { ADD_ARTICLE2 } from '../constants/action-types';\r\n\r\nimport axios from \"axios\";\r\n\r\nexport const getMovies2 = movies => ({\r\n    type: \"GET_MOVIES\",\r\n    movies\r\n  });\r\n  \r\nexport const getMoviesX = movies => ({\r\n    type: \"GET_MOVIES_X\",\r\n    movies\r\n});\r\n  \r\nexport const updateSearchKey = key => ({\r\n    type: \"UPDATE_SEARCH_KEY\",\r\n    key\r\n});\r\n\r\nexport const filterMovies = key => ({\r\n    type: \"Filter_MOVIES\",\r\n    key\r\n});\r\nexport function addArticle(payload){\r\n    return { type: ADD_ARTICLE , payload}\r\n}\r\n\r\nexport function addArticle2(payload){\r\n    return { type: ADD_ARTICLE2 , payload}\r\n}\r\n\r\nexport const asyncFilterMovies = key => {\r\n    return dispatch => {\r\n      new Promise((resolve, reject) => {\r\n        resolve();\r\n      }).then(() => {\r\n        dispatch(filterMovies(key));\r\n      });\r\n    };\r\n  };\r\n  \r\nexport const getMovies = (page, flush) => {\r\n    return dispatch => {\r\n      axios\r\n        .get(`CONTENTLISTINGPAGE-PAGE${page}.json`)\r\n        .then(res => {\r\n          if (!flush) {\r\n            dispatch(getMovies2(res.data.page[\"content-items\"].content));\r\n          } else {\r\n            dispatch(getMoviesX(res.data.page[\"content-items\"].content));\r\n          }\r\n        })\r\n    };\r\n  };","\r\nimport React from 'react';\r\nimport { css } from '@emotion/core';\r\n// First way to import\r\nimport { FadeLoader } from 'react-spinners';\r\n \r\nconst override = css`\r\n    display: block;\r\n    margin: 0 auto;\r\n    border-color: red;\r\n`;\r\n \r\nclass Spinner extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      loading: true\r\n    }\r\n  }\r\n  render() {\r\n    return (\r\n      <div className='sweet-loading'>\r\n        <FadeLoader\r\n          css={override}\r\n          sizeUnit={\"px\"}\r\n          height={15}\r\n          radius={2}\r\n          width={5}\r\n          margin={'2px'}\r\n          color={'#36D7B7'}\r\n          loading={this.state.loading}\r\n        />\r\n      </div> \r\n    )\r\n  }\r\n}\r\n\r\nexport default Spinner","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport { Container, Row, Col } from \"react-bootstrap\";\r\nimport LazyLoad from \"react-lazy-load\";\r\nimport {getMovies,updateSearchKey,filterMovies,asyncFilterMovies} from \"../actions/index\";\r\nimport Spinner from '../Spinner';\r\n\r\nclass App extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      posts: [],\r\n      searchKey: \"\",\r\n      page: 1,\r\n      init: true,\r\n      isVisible: false,\r\n      isMobile: false\r\n    };\r\n    this.handleSearch = this.handleSearch.bind(this);\r\n    this.showHead = this.showHead.bind(this);\r\n    this.onKeyDown = this.onKeyDown.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.actions.getMovies(this.state.page, false);\r\n    window.addEventListener(\"scroll\", this.handleScroll);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\"scroll\", this.handleScroll);\r\n  }\r\n\r\n  genImage(image, index, length) {\r\n    return (\r\n      <LazyLoad height={158}>\r\n        <div\r\n          style={{\r\n            alignItems: \"center\",\r\n            overflow: \"hidden\"\r\n          }}\r\n        >\r\n          <img\r\n            style={{\r\n              width: \"100%\"\r\n            }}\r\n            src={\r\n              `./assets/${image}` ||\r\n              `./assets/placeholder_for_missing_posters.png`\r\n            }\r\n            alt={`./assets/placeholder_for_missing_posters.png`}\r\n          />\r\n        </div>\r\n      </LazyLoad>\r\n    );\r\n  }\r\n\r\n  showPosts() {\r\n    return this.props.movies.length > 1 ? (\r\n      this.props.movies.map((post, index) => {\r\n          console.log(\"check--->\",post)\r\n        const image = post[\"poster-image\"];\r\n        return (\r\n          <Col\r\n            xs={4}\r\n            key={index}\r\n            style={{\r\n              float: \"left\",\r\n              marginBottom: \"-15px\",\r\n              marginRight: \"0px\",\r\n              marginLeft: \"0px\"\r\n            }}\r\n          >\r\n            <div\r\n              style={{\r\n                display: \"inline-block\"\r\n              }}\r\n            >\r\n              <div style={{ paddingBottom: \"-80px\" }}>\r\n                {this.genImage(image, index, this.props.movies.length)}\r\n              </div>\r\n              <p style={{ color: \"#ffffff\", fontSize: \"3vw\" }}>{post.name}</p>\r\n            </div>\r\n          </Col>\r\n        );\r\n      })\r\n    ) : (\r\n        <Spinner />\r\n    );\r\n  }\r\n\r\n  handleSearch(e) {\r\n    e.preventDefault();\r\n    this.setState({ searchKey: e.target.value });\r\n    if (e.target.value.trim().length > 1) {\r\n      this.props.actions.updateSearchKey(this.state.searchKey);\r\n      this.props.actions.asyncFilterMovies(this.props.search.searchKey);\r\n    }\r\n    return;\r\n  }\r\n\r\n  onKeyDown(e) {\r\n    if (e.keyCode === 8) {\r\n      this.setState({ page: 1 });\r\n      this.setState({ searchKey: \"\" });\r\n      this.props.actions.getMovies(1, true);\r\n      this.props.actions.updateSearchKey(\"\");\r\n    }\r\n  }\r\n\r\n  showHead() {\r\n    return (\r\n      <div style={{ position: \"sticky\", top: \"0\" }}>\r\n        <div\r\n          style={{\r\n            marginTop: \"30px\",\r\n            marginBottom: \"10px\",\r\n            maxHeight: \"190px\"\r\n          }}\r\n        >\r\n          <span>\r\n            {/* <p style={{ color: 'white' }}>Search :  */}\r\n              <input\r\n              type=\"text\"\r\n              placeholder=\"Enter Name To Search\"\r\n              onChange={e => this.handleSearch(e)}\r\n              onKeyDown={this.onKeyDown}\r\n              value={this.state.searchKey}\r\n              style={{\r\n                border: \"1px solid #2c2c2d\",\r\n                display: \"inline\",\r\n                backgroundColor: \"#C0C0C0\",\r\n                color: \"#212F3D\",\r\n                fontSize: \"4vw\",\r\n                marginLeft: \"20px\",\r\n                outline: \"none\",\r\n               \r\n              }}\r\n             \r\n            />\r\n           {/* <button> Search </button> */}\r\n           {/* </p> */}\r\n          </span>\r\n          <button  style={{\r\n              display: \"inline\",\r\n              float: \"right\",\r\n              paddingTop: \"0px\",\r\n              paddingRight: \"20px\",\r\n              position: 'absolute',\r\n              margin: \"-6px\",\r\n              right:\" 38px\",\r\n              bottom: \"4px\",\r\n            }} onClick={e => this.handleSearch(e)}>\r\n           Search\r\n        </button>\r\n          {/* <input\r\n            type=\"button\"\r\n            src=\"./assets/search.png\"\r\n            // value=\"Search\"\r\n            alt=\"search\"\r\n            width=\"48\"\r\n            height=\"28\"\r\n            onClick={e => this.handleSearch(e)}\r\n            style={{\r\n              display: \"inline\",\r\n              float: \"right\",\r\n              paddingTop: \"0px\",\r\n              paddingRight: \"20px\",\r\n              position: 'absolute',\r\n              margin: \"-6px\",\r\n              right:\" 38px\",\r\n              bottom: \"4px\",\r\n            }}\r\n          /> */}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n  fetchMovies(page) {\r\n    this.props.actions.getMovies(this.state.page, false);\r\n  }\r\n\r\n  handleScroll = event => {\r\n    if (\r\n      window.innerHeight + window.scrollY >=\r\n      document.body.offsetHeight - 400\r\n    ) {\r\n      if (this.state.page < 3) {\r\n        this.setState({ page: this.state.page + 1 });\r\n        this.fetchMovies(this.state.page);\r\n      }\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const renderMovies = this.showPosts();\r\n    const renderHead = this.showHead();\r\n    return(\r\n      <div className=\"\" style={{ backgroundColor: '#000000'}}>\r\n        <div>{renderHead}</div>\r\n        {renderMovies\r\n        ?  <Container>\r\n            <div>\r\n                <Row>{renderMovies}</Row>\r\n            </div>\r\n            </Container>\r\n        :  <Spinner/>\r\n        }\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return { movies: state.movies, search: state.search };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    actions: bindActionCreators(\r\n      { getMovies, updateSearchKey, filterMovies, asyncFilterMovies },\r\n      dispatch\r\n    )\r\n  };\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(App);","\r\nimport { ADD_ARTICLE } from '../constants/action-types';\r\n\r\nimport { ADD_ARTICLE2 } from '../constants/action-types';\r\n\r\nimport { combineReducers } from \"redux\";\r\n\r\n// const initialState = {\r\n//     articles:[]\r\n// }\r\n\r\nconst initalState = [];\r\n\r\n\r\nconst moviesReducer = (state = initalState, action) => {\r\n    switch (action.type) {\r\n      case \"GET_MOVIES\":\r\n        return [...state, ...action.movies];\r\n      case \"GET_MOVIES_X\":\r\n        return [...action.movies];\r\n      case \"Filter_MOVIES\":\r\n        if (action.key.trim().length < 1) {\r\n          return [...state];\r\n        }\r\n        const regex = RegExp(`${action.key.toLowerCase()}`);\r\n        let newState = state.filter(\r\n          movie => regex.test(movie.name.toLowerCase())\r\n        );\r\n        return [...newState];\r\n      default:\r\n        return state;\r\n    }\r\n  };\r\n  \r\n// step 2 reducer funtion with state and action\r\n\r\n// function rootReducer(state = initialState, action){\r\n//     if(action.type === ADD_ARTICLE){\r\n//         return Object.assign({}, state, {\r\n//             articles : state.articles.concat(action.payload)\r\n//         });\r\n//     }\r\n\r\n//     if(action.type === ADD_ARTICLE2){\r\n//         return Object.assign({}, state, {\r\n//             articles : state.articles.concat(action.payload)\r\n//         });\r\n//     }\r\n//     return state;\r\n// }\r\nconst searchReducer = (state = { searchKey: \"\" }, action) => {\r\n    switch (action.type) {\r\n      case \"UPDATE_SEARCH_KEY\":\r\n        return { ...state, ...{ searchKey: action.key } };\r\n      default:\r\n        return state;\r\n    }\r\n  };\r\n\r\n  const rootReducer = combineReducers({\r\n    movies: moviesReducer,\r\n    search: searchReducer\r\n  });\r\n\r\nexport default rootReducer;\r\n\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { Provider } from \"react-redux\";\nimport thunk from \"redux-thunk\";\nimport { createStore, applyMiddleware } from \"redux\";\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\n// import {composeWithDevTools} from 'redux-devtools-extension'\n\nimport App from \"./js/components/home\";\nimport reducers from \"./js/reducers/index\";\n\n\n\nconst store = createStore(\n  reducers,\n  applyMiddleware(thunk)\n);\n\n\nconsole.log(store.getState());\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById(\"root\")\n);"],"sourceRoot":""}