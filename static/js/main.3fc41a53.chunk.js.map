{"version":3,"sources":["js/actions/index.js","js/components/home.js","js/reducers/index.js","index.js"],"names":["updateSearchKey","key","type","filterMovies","asyncFilterMovies","dispatch","Promise","resolve","reject","then","getMovies","page","flush","axios","get","res","movies","getMoviesX","data","content","App","props","handleScroll","event","window","innerHeight","scrollY","document","body","offsetHeight","state","setState","fetchMovies","posts","searchKey","init","isVisible","isMobile","handleSearch","bind","showHead","onKeyDown","this","actions","addEventListener","removeEventListener","image","index","length","height","style","alignItems","overflow","width","src","alt","map","post","console","log","Col","xs","float","marginBottom","marginRight","marginLeft","display","paddingBottom","genImage","color","fontSize","name","e","preventDefault","target","value","trim","search","keyCode","position","top","marginTop","maxHeight","paddingTop","placeholder","onChange","border","backgroundColor","outline","onClick","paddingRight","renderMovies","showPosts","renderHead","className","Container","Row","right","padding","margin","backgroundPosition","backgroundSize","backgroundImage","bottom","left","paddingLeft","Component","connect","bindActionCreators","initalState","rootReducer","combineReducers","action","regex","RegExp","toLowerCase","newState","filter","movie","test","store","createStore","reducers","applyMiddleware","thunk","getState","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.3fc41a53.chunk.js","sourcesContent":["import { ADD_ARTICLE } from '../constants/action-types';\r\n\r\nimport { ADD_ARTICLE2 } from '../constants/action-types';\r\n\r\nimport axios from \"axios\";\r\n\r\nexport const getMovies2 = movies => ({\r\n    type: \"GET_MOVIES\",\r\n    movies\r\n  });\r\n  \r\nexport const getMoviesX = movies => ({\r\n    type: \"GET_MOVIES_X\",\r\n    movies\r\n});\r\n  \r\nexport const updateSearchKey = key => ({\r\n    type: \"UPDATE_SEARCH_KEY\",\r\n    key\r\n});\r\n\r\nexport const filterMovies = key => ({\r\n    type: \"Filter_MOVIES\",\r\n    key\r\n});\r\nexport function addArticle(payload){\r\n    return { type: ADD_ARTICLE , payload}\r\n}\r\n\r\nexport function addArticle2(payload){\r\n    return { type: ADD_ARTICLE2 , payload}\r\n}\r\n\r\nexport const asyncFilterMovies = key => {\r\n    return dispatch => {\r\n      new Promise((resolve, reject) => {\r\n        resolve();\r\n      }).then(() => {\r\n        dispatch(filterMovies(key));\r\n      });\r\n    };\r\n  };\r\n  \r\nexport const getMovies = (page, flush) => {\r\n    return dispatch => {\r\n      axios\r\n        .get(`CONTENTLISTINGPAGE-PAGE${page}.json`)\r\n        .then(res => {\r\n          if (!flush) {\r\n            dispatch(getMovies2(res.data.page[\"content-items\"].content));\r\n          } else {\r\n            dispatch(getMoviesX(res.data.page[\"content-items\"].content));\r\n          }\r\n        })\r\n    };\r\n  };","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport { Container, Row, Col } from \"react-bootstrap\";\r\nimport LazyLoad from \"react-lazy-load\";\r\nimport { isMobile } from \"react-device-detect\";\r\nimport {getMovies,updateSearchKey,filterMovies,asyncFilterMovies} from \"../actions/index\";\r\n\r\nclass App extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      posts: [],\r\n      searchKey: \"\",\r\n      page: 1,\r\n      init: true,\r\n      isVisible: false,\r\n      isMobile: false\r\n    };\r\n    this.handleSearch = this.handleSearch.bind(this);\r\n    this.showHead = this.showHead.bind(this);\r\n    this.onKeyDown = this.onKeyDown.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.actions.getMovies(this.state.page, false);\r\n    window.addEventListener(\"scroll\", this.handleScroll);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\"scroll\", this.handleScroll);\r\n  }\r\n\r\n  genImage(image, index, length) {\r\n    return (\r\n      <LazyLoad height={158}>\r\n        <div\r\n          style={{\r\n            alignItems: \"center\",\r\n            overflow: \"hidden\"\r\n          }}\r\n        >\r\n          <img\r\n            style={{\r\n              width: \"100%\"\r\n            }}\r\n            src={\r\n              `./assets/${image}` ||\r\n              `./assets/placeholder_for_missing_posters.png`\r\n            }\r\n            alt={`./assets/placeholder_for_missing_posters.png`}\r\n          />\r\n        </div>\r\n      </LazyLoad>\r\n    );\r\n  }\r\n\r\n  showPosts() {\r\n    return this.props.movies.length > 1 ? (\r\n      this.props.movies.map((post, index) => {\r\n          console.log(\"check--->\",post)\r\n        const image = post[\"poster-image\"];\r\n        return (\r\n          <Col\r\n            xs={4}\r\n            key={index}\r\n            style={{\r\n              float: \"left\",\r\n              marginBottom: \"-15px\",\r\n              marginRight: \"0px\",\r\n              marginLeft: \"0px\"\r\n            }}\r\n          >\r\n            <div\r\n              style={{\r\n                display: \"inline-block\"\r\n              }}\r\n            >\r\n              <div style={{ paddingBottom: \"-80px\" }}>\r\n                {this.genImage(image, index, this.props.movies.length)}\r\n              </div>\r\n              <p style={{ color: \"#ffffff\", fontSize: \"3vw\" }}>{post.name}</p>\r\n            </div>\r\n          </Col>\r\n        );\r\n      })\r\n    ) : (\r\n      <div>Loading...</div>\r\n    );\r\n  }\r\n\r\n  handleSearch(e) {\r\n    e.preventDefault();\r\n    this.setState({ searchKey: e.target.value });\r\n    if (e.target.value.trim().length > 1) {\r\n      this.props.actions.updateSearchKey(this.state.searchKey);\r\n      this.props.actions.asyncFilterMovies(this.props.search.searchKey);\r\n    }\r\n    return;\r\n  }\r\n\r\n  onKeyDown(e) {\r\n    if (e.keyCode === 8) {\r\n      this.setState({ page: 1 });\r\n      this.setState({ searchKey: \"\" });\r\n      this.props.actions.getMovies(1, true);\r\n      this.props.actions.updateSearchKey(\"\");\r\n    }\r\n  }\r\n\r\n  showHead() {\r\n    return (\r\n      <div style={{ position: \"sticky\", top: \"0\" }}>\r\n        <div\r\n          style={{\r\n            marginTop: \"30px\",\r\n            marginBottom: \"10px\",\r\n            maxHeight: \"190px\"\r\n          }}\r\n        >\r\n          <input\r\n            type=\"image\"\r\n            src=\"./assets/Back.png\"\r\n            alt=\"back\"\r\n            width=\"28\"\r\n            height=\"28\"\r\n            style={{ display: \"inline\", float: \"left\", paddingTop: \"0px\" }}\r\n          />\r\n          <span>\r\n            Search : <input\r\n              type=\"text\"\r\n              placeholder=\"Enter Name To Search\"\r\n              onChange={e => this.handleSearch(e)}\r\n              onKeyDown={this.onKeyDown}\r\n              value={this.state.searchKey}\r\n              style={{\r\n                border: \"1px solid #2c2c2d\",\r\n                display: \"inline\",\r\n                backgroundColor: \"#C0C0C0\",\r\n                color: \"#212F3D\",\r\n                fontSize: \"4vw\",\r\n                marginLeft: \"20px\",\r\n                outline: \"none\",\r\n               \r\n              }}\r\n            />\r\n           {/* <button> Search </button> */}\r\n          </span>\r\n          <input\r\n            type=\"image\"\r\n            src=\"./assets/search.png\"\r\n            alt=\"search\"\r\n            width=\"48\"\r\n            height=\"28\"\r\n            onClick={e => this.handleSearch(e)}\r\n            style={{\r\n              display: \"inline\",\r\n              float: \"right\",\r\n              paddingTop: \"0px\",\r\n              paddingRight: \"20px\"\r\n            }}\r\n          />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n  fetchMovies(page) {\r\n    this.props.actions.getMovies(this.state.page, false);\r\n  }\r\n\r\n  handleScroll = event => {\r\n    if (\r\n      window.innerHeight + window.scrollY >=\r\n      document.body.offsetHeight - 400\r\n    ) {\r\n      if (this.state.page < 3) {\r\n        this.setState({ page: this.state.page + 1 });\r\n        this.fetchMovies(this.state.page);\r\n      }\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const renderMovies = this.showPosts();\r\n    const renderHead = this.showHead();\r\n    return isMobile ? (\r\n      <div className=\"\">\r\n        <div>{renderHead}</div>\r\n        <Container>\r\n          <div>\r\n            <Row>{renderMovies}</Row>\r\n          </div>\r\n        </Container>\r\n      </div>\r\n    ) : (\r\n      <div>\r\n        <p\r\n          style={{\r\n            color: \"#ffffff\",\r\n            fontSize: \"25px\",\r\n            paddingTop: \"30px\",\r\n            right: \"50%\"\r\n          }}\r\n        >\r\n          React JS/ Workshop/ Diagnal technologies\r\n        </p>\r\n        <div\r\n          style={{\r\n            padding: 0,\r\n            margin: 0,\r\n            marginTop: \"30px\",\r\n            backgroundPosition: \"center\",\r\n            backgroundSize: \"cover\",\r\n            height: \"500px\",\r\n            backgroundImage: \"url(./assets/mobileOnly.jpg)\",\r\n            color: \"#ffffff\",\r\n            fontSize: \"25px\",\r\n            position: \"relative\"\r\n          }}\r\n        >\r\n          <p\r\n            style={{\r\n              position: \"absolute\",\r\n              bottom: \"80px\",\r\n              left: \"20px\",\r\n              backgroundColor: \"#191a21\",\r\n              color: \"#ffffff\",\r\n              paddingLeft: \"20px\",\r\n              paddingRight: \"20px\",\r\n              width: \"300px\"\r\n            }}\r\n          >\r\n            This is Mobile only version, please view the page in mobile or use\r\n            browser devtools to toggle device view and then refresh the page.\r\n          </p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return { movies: state.movies, search: state.search };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    actions: bindActionCreators(\r\n      { getMovies, updateSearchKey, filterMovies, asyncFilterMovies },\r\n      dispatch\r\n    )\r\n  };\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(App);","\r\nimport { ADD_ARTICLE } from '../constants/action-types';\r\n\r\nimport { ADD_ARTICLE2 } from '../constants/action-types';\r\n\r\nimport { combineReducers } from \"redux\";\r\n\r\n// const initialState = {\r\n//     articles:[]\r\n// }\r\n\r\nconst initalState = [];\r\n\r\n\r\nconst moviesReducer = (state = initalState, action) => {\r\n    switch (action.type) {\r\n      case \"GET_MOVIES\":\r\n        return [...state, ...action.movies];\r\n      case \"GET_MOVIES_X\":\r\n        return [...action.movies];\r\n      case \"Filter_MOVIES\":\r\n        if (action.key.trim().length < 1) {\r\n          return [...state];\r\n        }\r\n        const regex = RegExp(`${action.key.toLowerCase()}`);\r\n        let newState = state.filter(\r\n          movie => regex.test(movie.name.toLowerCase())\r\n        );\r\n        return [...newState];\r\n      default:\r\n        return state;\r\n    }\r\n  };\r\n  \r\n// step 2 reducer funtion with state and action\r\n\r\n// function rootReducer(state = initialState, action){\r\n//     if(action.type === ADD_ARTICLE){\r\n//         return Object.assign({}, state, {\r\n//             articles : state.articles.concat(action.payload)\r\n//         });\r\n//     }\r\n\r\n//     if(action.type === ADD_ARTICLE2){\r\n//         return Object.assign({}, state, {\r\n//             articles : state.articles.concat(action.payload)\r\n//         });\r\n//     }\r\n//     return state;\r\n// }\r\nconst searchReducer = (state = { searchKey: \"\" }, action) => {\r\n    switch (action.type) {\r\n      case \"UPDATE_SEARCH_KEY\":\r\n        return { ...state, ...{ searchKey: action.key } };\r\n      default:\r\n        return state;\r\n    }\r\n  };\r\n\r\n  const rootReducer = combineReducers({\r\n    movies: moviesReducer,\r\n    search: searchReducer\r\n  });\r\n\r\nexport default rootReducer;\r\n\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { Provider } from \"react-redux\";\nimport thunk from \"redux-thunk\";\nimport { createStore, applyMiddleware } from \"redux\";\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\n// import {composeWithDevTools} from 'redux-devtools-extension'\n\nimport App from \"./js/components/home\";\nimport reducers from \"./js/reducers/index\";\n\n\n\nconst store = createStore(\n  reducers,\n  applyMiddleware(thunk)\n);\n\n\nconsole.log(store.getState());\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById(\"root\")\n);"],"sourceRoot":""}