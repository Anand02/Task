(this["webpackJsonpreact-redux-tutorial"]=this["webpackJsonpreact-redux-tutorial"]||[]).push([[0],{36:function(e,t,n){e.exports=n(70)},70:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),i=n(9),r=n.n(i),s=n(10),c=n(27),l=n(4),p=(n(45),n(28)),h=n(29),u=n(7),d=n(35),g=n(34),f=n(72),m=n(73),v=n(74),y=n(30),E=n.n(y),b=n(31),w=n(32),S=n.n(w),k=function(e){return{type:"UPDATE_SEARCH_KEY",key:e}},x=function(e){return{type:"Filter_MOVIES",key:e}};var O=function(e){return function(t){new Promise((function(e,t){e()})).then((function(){t(x(e))}))}},j=function(e,t){return function(n){S.a.get("CONTENTLISTINGPAGE-PAGE".concat(e,".json")).then((function(e){n(t?function(e){return{type:"GET_MOVIES_X",movies:e}}(e.data.page["content-items"].content):{type:"GET_MOVIES",movies:e.data.page["content-items"].content})}))}},M=function(e){Object(d.a)(n,e);var t=Object(g.a)(n);function n(e){var a;return Object(p.a)(this,n),(a=t.call(this,e)).handleScroll=function(e){window.innerHeight+window.scrollY>=document.body.offsetHeight-400&&a.state.page<3&&(a.setState({page:a.state.page+1}),a.fetchMovies(a.state.page))},a.state={posts:[],searchKey:"",page:1,init:!0,isVisible:!1,isMobile:!1},a.handleSearch=a.handleSearch.bind(Object(u.a)(a)),a.showHead=a.showHead.bind(Object(u.a)(a)),a.onKeyDown=a.onKeyDown.bind(Object(u.a)(a)),a}return Object(h.a)(n,[{key:"componentDidMount",value:function(){this.props.actions.getMovies(this.state.page,!1),window.addEventListener("scroll",this.handleScroll)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.handleScroll)}},{key:"genImage",value:function(e,t,n){return o.a.createElement(E.a,{height:158},o.a.createElement("div",{style:{alignItems:"center",overflow:"hidden"}},o.a.createElement("img",{style:{width:"100%"},src:"./assets/".concat(e)||!1,alt:"./assets/placeholder_for_missing_posters.png"})))}},{key:"showPosts",value:function(){var e=this;return this.props.movies.length>1?this.props.movies.map((function(t,n){console.log("check---\x3e",t);var a=t["poster-image"];return o.a.createElement(f.a,{xs:4,key:n,style:{float:"left",marginBottom:"-15px",marginRight:"0px",marginLeft:"0px"}},o.a.createElement("div",{style:{display:"inline-block"}},o.a.createElement("div",{style:{paddingBottom:"-80px"}},e.genImage(a,n,e.props.movies.length)),o.a.createElement("p",{style:{color:"#ffffff",fontSize:"3vw"}},t.name)))})):o.a.createElement("div",null,"Loading...")}},{key:"handleSearch",value:function(e){e.preventDefault(),this.setState({searchKey:e.target.value}),e.target.value.trim().length>1&&(this.props.actions.updateSearchKey(this.state.searchKey),this.props.actions.asyncFilterMovies(this.props.search.searchKey))}},{key:"onKeyDown",value:function(e){8===e.keyCode&&(this.setState({page:1}),this.setState({searchKey:""}),this.props.actions.getMovies(1,!0),this.props.actions.updateSearchKey(""))}},{key:"showHead",value:function(){var e=this;return o.a.createElement("div",{style:{position:"sticky",top:"0"}},o.a.createElement("div",{style:{marginTop:"30px",marginBottom:"10px",maxHeight:"190px"}},o.a.createElement("input",{type:"image",src:"./assets/Back.png",alt:"back",width:"28",height:"28",style:{display:"inline",float:"left",paddingTop:"0px"}}),o.a.createElement("span",null,"Search : ",o.a.createElement("input",{type:"text",placeholder:"Enter Name To Search",onChange:function(t){return e.handleSearch(t)},onKeyDown:this.onKeyDown,value:this.state.searchKey,style:{border:"1px solid #2c2c2d",display:"inline",backgroundColor:"#C0C0C0",color:"#212F3D",fontSize:"4vw",marginLeft:"20px",outline:"none"}})),o.a.createElement("input",{type:"image",src:"./assets/search.png",alt:"search",width:"48",height:"28",onClick:function(t){return e.handleSearch(t)},style:{display:"inline",float:"right",paddingTop:"0px",paddingRight:"20px"}})))}},{key:"fetchMovies",value:function(e){this.props.actions.getMovies(this.state.page,!1)}},{key:"render",value:function(){var e=this.showPosts(),t=this.showHead();return b.isMobile?o.a.createElement("div",{className:""},o.a.createElement("div",null,t),o.a.createElement(m.a,null,o.a.createElement("div",null,o.a.createElement(v.a,null,e)))):o.a.createElement("div",null,o.a.createElement("p",{style:{color:"#ffffff",fontSize:"25px",paddingTop:"30px",right:"50%"}},"React JS/ Workshop/ Diagnal technologies"),o.a.createElement("div",{style:{padding:0,margin:0,marginTop:"30px",backgroundPosition:"center",backgroundSize:"cover",height:"500px",backgroundImage:"url(./assets/mobileOnly.jpg)",color:"#ffffff",fontSize:"25px",position:"relative"}},o.a.createElement("p",{style:{position:"absolute",bottom:"80px",left:"20px",backgroundColor:"#191a21",color:"#ffffff",paddingLeft:"20px",paddingRight:"20px",width:"300px"}},"This is Mobile only version, please view the page in mobile or use browser devtools to toggle device view and then refresh the page.")))}}]),n}(a.Component),K=Object(s.b)((function(e){return{movies:e.movies,search:e.search}}),(function(e){return{actions:Object(l.b)({getMovies:j,updateSearchKey:k,filterMovies:x,asyncFilterMovies:O},e)}}))(M),T=n(15),_=n(8),C=[],I=Object(l.c)({movies:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_MOVIES":return[].concat(Object(_.a)(e),Object(_.a)(t.movies));case"GET_MOVIES_X":return Object(_.a)(t.movies);case"Filter_MOVIES":if(t.key.trim().length<1)return Object(_.a)(e);var n=RegExp("".concat(t.key.toLowerCase())),a=e.filter((function(e){return n.test(e.name.toLowerCase())}));return Object(_.a)(a);default:return e}},search:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{searchKey:""},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_SEARCH_KEY":return Object(T.a)(Object(T.a)({},e),{searchKey:t.key});default:return e}}}),D=Object(l.d)(I,Object(l.a)(c.a));console.log(D.getState()),r.a.render(o.a.createElement(s.a,{store:D},o.a.createElement(K,null)),document.getElementById("root"))}},[[36,1,2]]]);
//# sourceMappingURL=main.3fc41a53.chunk.js.map